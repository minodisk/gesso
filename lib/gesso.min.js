(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T=Array.prototype.slice,U=function(a,b){return function(){return a.apply(b,arguments)}},V=Object.prototype.hasOwnProperty,W=function(a,b){function d(){this.constructor=a}for(var c in b)V.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};J="0.2.2",E=Math.PI,I=Math.SQRT2,F=E/2,G=E*2,D=(I-1)*4/3,H=E/180,P=Math.sin,L=Math.cos,S=Math.tan,N=Math.min,M=Math.max,Q=Math.sqrt,K=Math.atan2,O=function(){return(typeof window!="undefined"&&window!==null?window.requestAnimationFrame:void 0)||(typeof window!="undefined"&&window!==null?window.webkitRequestAnimationFrame:void 0)||(typeof window!="undefined"&&window!==null?window.mozRequestAnimationFrame:void 0)||(typeof window!="undefined"&&window!==null?window.msRequestAnimationFrame:void 0)||(typeof window!="undefined"&&window!==null?window.oRequestAnimationFrame:void 0)||function(a){return setTimeout(function(){return a((new Date).getTime())},16.666666666666668)}}(),window.mn==null&&(window.mn={}),window.mn.dsk==null&&(window.mn.dsk={}),C=window.mn.dsk,C.core==null&&(C.core={}),C.display==null&&(C.display={}),C.events==null&&(C.events={}),C.geom==null&&(C.geom={}),C.text==null&&(C.text={}),C.timers==null&&(C.timers={}),C.core.Class=d=function(){function a(){}return a.prototype.defineProperty=function(){if(Object.defineProperty!=null)return function(a,b,c){var d;return d={},d.get=b!=null?b:this._error("get",a),d.set=c!=null?c:this._error("set",a),d.enumerable=!0,d.configuable=!1,Object.defineProperty(this,a,d)};if(Object.prototype.__defineGetter__!=null&&Object.prototype.__defineSetter__!=null)return function(a,b,c){return this.prototype.__defineGetter__(a,b!=null?b:this._error("get",a)),this.prototype.__defineSetter__(a,c!=null?c:this._error("set",a))};throw new Error("Doesn't support 'getter/setter' properties.")}(),a.prototype._error=function(a,b){return function(c){throw new Error("Cannot "+a+" property '"+b+"'.")}},a}(),C.display.CapsStyle=c={NONE:"butt",BUTT:"butt",ROUND:"round",SQUARE:"square"},C.display.GradientType=i={LINEAR:"linear",RADIAL:"radial"},C.display.Graphics=j=function(){function a(a){this._displayObject=a,this._context=this._displayObject._context,this._stacks=this._displayObject._stacks}return a.toColorString=function(a,b){return a==null&&(a=0),b==null&&(b=1),"rgba("+(a>>16&255)+","+(a>>8&255)+","+(a&255)+","+(b<0?0:b>1?1:b)+")"},a.prototype._requestRender=function(){return this._displayObject._requestRender.apply(this._displayObject,arguments),this},a.prototype._execStacks=function(){var a,b,c,d,e,f,g;this._context.fillStyle=this._context.strokeStyle="rgba(0,0,0,0)",this._context.translate(-this._displayObject._bounds.x,-this._displayObject._bounds.y),a=0,g=this._stacks;for(b=0,f=g.length;b<f;b++)e=g[b],d=e.method,c=d.indexOf("draw")===0,d==="moveTo"||d==="lineTo"||d==="quadraticCurveTo"||d==="cubicCurveTo"||c?a++:a!==0&&(a=0,c&&this._context.closePath(),this._context.fill(),this._context.stroke()),a===1&&this._context.beginPath(),this["_"+e.method].apply(this,e.arguments);return a!==0&&(a=0,c&&this._context.closePath(),this._context.fill(),this._context.stroke()),this._context.setTransform(1,0,0,1,0,0)},a.prototype.clear=function(){while(this._stacks.length)this._stacks.pop();return this._context.canvas.width=this._context.canvas.height=0,this._requestRender(!0)},a.prototype.lineStyle=function(a,b,d,e,f,g){return a==null&&(a=1),b==null&&(b=0),d==null&&(d=1),e==null&&(e=c.NONE),f==null&&(f=l.BEVEL),g==null&&(g=10),this._stacks.push({method:"lineStyle",arguments:[a,b,d,e,f,g],delta:a}),this._requestRender(!0)},a.prototype._lineStyle=function(b,c,d,e,f,g){this._context.lineWidth=b,this._context.strokeStyle=a.toColorString(c,d),this._context.lineCaps=e,this._context.lineJoin=f,this._context.miterLimit=g},a.prototype.beginFill=function(a,b){return a==null&&(a=0),b==null&&(b=1),this._stacks.push({method:"beginFill",arguments:[a,b]}),this._requestRender(!0)},a.prototype._beginFill=function(b,c){this._context.fillStyle=a.toColorString(b,c)},a.prototype.beginGradientFill=function(a,b,c,d,e,f){return e==null&&(e=null),f==null&&(f=0),this._stacks.push({method:"beginGradientFill",arguments:[a,b,c,d,e,f]}),this._requestRender(!0)},a.prototype._beginGradientFill=function(b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,C,D,E,F,G,H,I,J,K;w=e.length;if(c.length!==w||d.length!==w)throw new TypeError("Invalid length of colors, alphas or ratios.");r=f.transformPoint(new B(-819.2,-819.2)),l=f.transformPoint(new B(819.2,819.2)),k=f.transformPoint(new B(-819.2,819.2)),A=l.subtract(r).divide(2),m=r.add(A);switch(b){case"linear":z=k.subtract(r),s=A.magnitude*Math.abs(Math.sin(A.direction-z.direction)),z.direction+=Math.PI/2,E=z.normalize(s),q=m.add(E),n=m.subtract(E),u=this._context.createLinearGradient(q.x,q.y,n.x,n.y);break;case"radial":p=f.transformPoint(new B(819.2,0)),F=p.subtract(m),o=r.add(k).divide(2),j=l.add(k).divide(2),D=o.subtract(m),C=j.subtract(m),G=D.x*D.x,I=D.y*D.y,H=C.x*C.x,J=C.y*C.y,h=Math.sqrt((I*H-G*J)/(I-J)),i=Math.sqrt((G*J-I*H)/(G-H)),x=Math.max(h,i),t=x*g,u=this._context.createRadialGradient(m.x,m.y,x,m.x+t*Math.cos(F.direction),m.y+t*Math.sin(F.direction),0),e=e.slice(),e.reverse()}for(v=0,K=e.length;v<K;v++)y=e[v],u.addColorStop(y/255,a.toColorString(c[v],d[v]));return this._context.fillStyle=u},a.prototype.endFill=function(a,b){return a==null&&(a=0),b==null&&(b=1),this._stacks.push({method:"endFill",arguments:[a,b]}),this._requestRender(!0)},a.prototype._endFill=function(a,b){},a.prototype.moveTo=function(a,b){return this._stacks.push({method:"moveTo",arguments:[a,b],rect:new q(a,b,0,0)}),this._requestRender(!0)},a.prototype._moveTo=function(a,b){this._context.moveTo(a,b)},a.prototype.lineTo=function(a,b,c){return this._stacks.push({method:"lineTo",arguments:[a,b],rect:new q(a,b,0,0)}),this._requestRender(!0)},a.prototype._lineTo=function(a,b){this._context.lineTo(a,b)},a.prototype.drawPath=function(a,b,c){var d,e,f,g;c==null&&(c=0),f=new q(b[0],b[1],0,0);for(d=1,g=b.length/2;d<g;d+=1)e=d*2,f.contain(b[e],b[e+1]);return this._stacks.push({method:"drawPath",arguments:[a,b,c],rect:f}),this._requestRender(!0)},a.prototype._drawPath=function(a,b,c){var d,e,f,g,h,i,j,k;if(c<0){f=[],g=0;for(h=0,j=a.length;h<j;h++){e=a[h];switch(e){case 0:case 1:f.unshift(b[g++],b[g++]);break;case 2:g+=4,f.unshift(b[g-2],b[g-1],b[g-4],b[g-3]);break;case 3:g+=6,f.unshift(b[g-2],b[g-1],b[g-4],b[g-3],b[g-6],b[g-5])}}b=f,a=a.slice(),d=a.shift(),a.reverse(),a.unshift(d)}g=0;for(i=0,k=a.length;i<k;i++){e=a[i];switch(e){case 0:this._context.moveTo(b[g++],b[g++]);break;case 1:this._context.lineTo(b[g++],b[g++]);break;case 2:this._context.quadraticCurveTo(b[g++],b[g++],b[g++],b[g++]);break;case 3:this._context.bezierCurveTo(b[g++],b[g++],b[g++],b[g++],b[g++],b[g++])}}if(b[0]===b[b.length-2]&&b[1]===b[b.length-1])return this._context.closePath()},a.prototype.quadraticCurveTo=function(a,b,c,d){return this._stacks.push({method:"quadraticCurveTo",arguments:[a,b,c,d],rect:(new q(a,b)).contain(c,d)}),this._requestRender(!0)},a.prototype.curveTo=a.prototype.quadraticCurveTo,a.prototype._quadraticCurveTo=function(a,b,c,d){return this._context.quadraticCurveTo(a,b,c,d)},a.prototype.cubicCurveTo=function(a,b,c,d,e,f){return this._stacks.push({method:"cubicCurveTo",arguments:[a,b,c,d,e,f],rect:(new q(a,b)).contain(c,d).contain(e,f)}),this._requestRender(!0)},a.prototype.bezierCurveTo=a.prototype.cubicCurveTo,a.prototype._cubicCurveTo=function(a,b,c,d,e,f){return this._context.bezierCurveTo(a,b,c,d,e,f)},a.prototype.drawRectangle=function(a,b){return b==null&&(b=0),this.drawRect(a.x,a.y,a.width,a.height,b)},a.prototype.drawRect=function(a,b,c,d,e){var f,g;return d==null&&(d=c),e==null&&(e=0),g=a+c,f=b+d,this.drawPath([0,1,1,1,1],[a,b,g,b,g,f,a,f,a,b],e)},a.prototype.drawRectangleWithoutPath=function(a){return this.drawRectWithoutPath(a.x,a.y,a.width,a.height)},a.prototype.drawRectWithoutPath=function(a,b,c,d){return d==null&&(d=c),this._stacks.push({method:"drawRectWithoutPath",arguments:[a,b,c,d],rect:new q(a,b,c,d)}),this._requestRender(!0)},a.prototype._drawRectWithoutPath=function(a,b,c,d){return this._context.fillRect(a,b,c,d),this._context.strokeRect(a,b,c,d)},a.prototype.drawRoundRectangle=function(a,b,c,d){return c==null&&(c=b),d==null&&(d=0),this.drawRoundRect(a.x,a.y,a.width,a.height,b,c,d)},a.prototype.drawRoundRect=function(a,b,c,d,e,f,g){return f==null&&(f=e),g==null&&(g=0),this.drawPath([0,1,2,1,2,1,2,1,2],[a+e,b,a+c-e,b,a+c,b,a+c,b+f,a+c,b+d-f,a+c,b+d,a+c-e,b+d,a+e,b+d,a,b+d,a,b+d-f,a,b+f,a,b,a+e,b],g)},a.prototype.drawCircle=function(a,b,c,d){return d==null&&(d=0),this._stacks.push({method:"drawCircle",arguments:[a,b,c,d],rect:new q(a-c,b-c,c*2,c*2)}),this._requestRender(!0)},a.prototype._drawCircle=function(a,b,c,d){this._context.moveTo(a+c,b),this._context.arc(a,b,c,0,G,d<0)},a.prototype.drawEllipse=function(a,b,c,d,e){var f,g;return e==null&&(e=0),c/=2,d/=2,a+=c,b+=d,g=c*D,f=d*D,this.drawPath([0,3,3,3,3],[a+c,b,a+c,b+f,a+g,b+d,a,b+d,a-g,b+d,a-c,b+f,a-c,b,a-c,b-f,a-g,b-d,a,b-d,a+g,b-d,a+c,b-f,a+c,b],e)},a.prototype.drawRegularPolygon=function(a,b,c,d,e){var f,g,h,i,j;d==null&&(d=3),e==null&&(e=0),f=[],g=[],j=G/d;for(h=0;0<=d?h<=d:h>=d;0<=d?h++:h--)f.push(h===0?0:1),i=-F+j*h,g.push(a+c*Math.cos(i),b+c*Math.sin(i));return this.drawPath(f,g,e)},a.prototype.drawRegularStar=function(a,b,c,d,e){var f;return d==null&&(d=5),e==null&&(e=0),f=Math.cos(E/d),this.drawStar(a,b,c,c*(2*f-1/f),d,e)},a.prototype.drawStar=function(a,b,c,d,e,f){var g,h,i,j,k,l,m;e==null&&(e=5),f==null&&(f=0),g=[],h=[],l=E/e;for(i=0,m=e*2;i<=m;i+=1)g.push(i===0?0:1),j=(i&1)===0?c:d,k=-F+l*i,h.push(a+j*Math.cos(k),b+j*Math.sin(k));return this.drawPath(g,h,f)},a}(),C.display.JointStyle=l={BEVEL:"bevel",MITER:"miter",ROUND:"round"},C.events.Event=f=function(){function a(b,c,d){var e;c==null&&(c=!1),d==null&&(d=!1);if(!(this instanceof a))return new a(b,c,d);b instanceof a&&(e=b,b=e.type,c=e.bubbles,d=e.cancelable,this.currentTarget=e.currentTarget,this.target=e.target),this.type=b,this.bubbles=c,this.cancelable=d,this._isPropagationStopped=!1,this._isPropagationStoppedImmediately=!1,this._isDefaultPrevented=!1}return a.ENTER_FRAME="enterFrame",a.COMPLETE="complete",a.prototype.formatToString=function(){var a,b;return b=arguments[0],a=2<=arguments.length?T.call(arguments,1):[],""},a.prototype.stopPropagation=function(){this._isPropagationStopped=!0},a.prototype.stopImmediatePropagation=function(){this._isPropagationStopped=!0,this._isPropagationStoppedImmediately=!0},a.prototype.isDefaultPrevented=function(){return this._isDefaultPrevented},a.prototype.preventDefault=function(){this._isDefaultPrevented=!0},a}(),C.events.EventPhase=h={CAPTURING_PHASE:1,AT_TARGET:2,BUBBLING_PHASE:3},C.geom.Matrix=o=function(){function a(a,b,c,d,e,f){this.xx=a!=null?a:1,this.xy=b!=null?b:0,this.yx=c!=null?c:0,this.yy=d!=null?d:1,this.ox=e!=null?e:0,this.oy=f!=null?f:0}return a.prototype.identity=function(){return this.xx=1,this.xy=0,this.yx=0,this.yy=1,this.ox=0,this.oy=0},a.prototype.clone=function(){return new a(this.xx,this.xy,this.yx,this.yy,this.ox,this.oy)},a.prototype.toString=function(){return""+this.xx+" "+this.yx+" "+this.ox+"\n"+this.xy+" "+this.yy+" "+this.oy+"\n0 0 1"},a.prototype.apply=function(a){return this._apply(a.xx,a.xy,a.yx,a.yy,a.ox,a.oy)},a.prototype._apply=function(a,b,c,d,e,f){return this.xx=a,this.xy=b,this.yx=c,this.yy=d,this.ox=e,this.oy=f,this},a.prototype.setTo=function(a){return a.setTransform(this.xx,this.xy,this.yx,this.yy,this.ox,this.oy)},a.prototype.concat=function(a){return this._concat(a.xx,a.xy,a.yx,a.yy,a.ox,a.oy)},a.prototype._concat=function(a,b,c,d,e,f){var g,h,i,j,k,l;return i=this.xx,j=this.xy,k=this.yx,l=this.yy,g=this.ox,h=this.oy,this.xx=a*i+c*j,this.xy=b*i+d*j,this.yx=a*k+c*l,this.yy=b*k+d*l,this.ox=a*g+c*h+e,this.oy=b*g+d*h+f,this},a.prototype.translate=function(a,b){return this._concat(1,0,0,1,a,b)},a.prototype.scale=function(a,b){return this._concat(a,0,0,b,0,0)},a.prototype.rotate=function(a){var b,c;return b=L(a),c=P(a),this._concat(b,c,-c,b,0,0)},a.prototype.skew=function(a,b){return this._concat(0,S(b),S(a),0,0,0)},a.prototype.invert=function(){var a,b,c,d,e,f,g;return d=this.xx,e=this.xy,f=this.yx,g=this.yy,b=this.ox,c=this.oy,a=d*g-e*f,this.xx=g/a,this.xy=-e/a,this.yx=-f/a,this.yy=d/a,this.ox=(f*c-g*b)/a,this.oy=(e*b-d*c)/a,this},a.prototype.transformPoint=function(a){return new B(this.xx*a.x+this.yx*a.y+this.ox,this.xy*a.x+this.yy*a.y+this.oy)},a.prototype.deltaTransformPoint=function(a){return new B(this.xx*a.x+this.yx*a.y,this.xy*a.x+this.yy*a.y)},a.prototype.createBox=function(a,b,c,d,e){var f,g;return c==null&&(c=0),d==null&&(d=0),e==null&&(e=0),f=L(c),g=P(c),this._concat(a*f,b*g,-a*g,b*f,d,e)},a.prototype.createGradientBox=function(a,b,c,d,e){return c==null&&(c=0),d==null&&(d=0),e==null&&(e=0),this.createBox(a/1638.4,b/1638.4,c,d+a/2,e+b/2)},a}(),C.geom.Rectangle=q=function(){function a(a,b,c,d){this.x=a!=null?a:0,this.y=b!=null?b:0,this.width=c!=null?c:0,this.height=d!=null?d:0}return a.prototype.toString=function(){return"[Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height)},a.prototype.apply=function(a){return this.x=a.x,this.y=a.y,this.width=a.width,this.height=a.height,this},a.prototype.contains=function(a,b){return this.x<a&&a<this.x+this.width&&this.y<b&&b<this.y+this.height},a.prototype.containsPoint=function(a){var b,c;return this.x<(b=a.x)&&b<this.x+this.width&&this.y<(c=a.y)&&c<this.y+this.height},a.prototype.contain=function(a,b){return a<this.x?(this.width+=this.x-a,this.x=a):a>this.x+this.width&&(this.width=a-this.x),b<this.y?(this.height+=this.y-b,this.y=b):b>this.y+this.height&&(this.height=b-this.y),this},a.prototype.offset=function(a,b){return this.x+=a,this.y+=b,this},a.prototype.offsetPoint=function(a){return this.x+=a.x,this.y+=a.y,this},a.prototype.inflate=function(a,b){return this.width+=a,this.height+=b,this},a.prototype.inflatePoint=function(a){return this.width+=a.x,this.height+=a.y,this},a.prototype.deflate=function(a,b){return this.width-=a,this.height-=b,this},a.prototype.deflatePoint=function(a){return this.width-=a.x,this.height-=a.y,this},a.prototype.union=function(a){var b,c,d,e,f,g,h,i,j,k;return f=this.x<a.x?this.x:a.x,h=this.x+this.width,i=a.x+a.width,g=h>i?h:i,k=g-f,j=this.y<a.y?this.y:a.y,c=this.y+this.height,d=a.y+a.height,b=c>d?c:d,e=b-j,this.x=f,this.y=j,this.width=k<0?0:k,this.height=e<0?0:e,this},a.prototype.isEmpty=function(){return this.x===0&&this.y===0&&this.width===0&&this.height===0},a.prototype.intersects=function(a){var b,c,d,e,f,g;return d=M(this.x,a.x),e=N(this.x+this.width,a.x+a.width),g=e-d,g<=0?!1:(f=M(this.y,a.y),b=N(this.y+this.height,a.y+a.height),c=b-f,c<=0?!1:!0)},a.prototype.intersection=function(b){var c,d,e,f,g,h;return e=M(this.x,b.x),f=N(this.x+this.width,b.x+b.width),h=f-e,h<=0?new a:(g=M(this.y,b.y),c=N(this.y+this.height,b.y+b.height),d=c-g,d<=0?new a:new a(e,g,h,d))},a.prototype.measureFarDistance=function(a,b){var c,d,e,f,g,h,i,j,k;return h=this.x,j=this.x+this.width,k=this.y,c=this.y+this.height,e=a-h,f=a-j,g=b-k,d=b-c,e*=e,f*=f,g*=g,d*=d,i=M(e+g,f+g,f+d,e+d),Q(i)},a.prototype.adjustOuter=function(){var a,b;return a=Math.floor(this.x),b=Math.floor(this.y),a!==this.x&&this.width++,b!==this.y&&this.height++,this.x=a,this.y=b,this.width=Math.ceil(this.width),this.height=Math.ceil(this.height)},a.prototype.transform=function(a){var b,c,d,e,f,g,h,i;return e=new o(1,0,0,1,this.x,this.y),h=new o(1,0,0,1,this.x+this.width,this.y),g=new o(1,0,0,1,this.x+this.width,this.y+this.height),d=new o(1,0,0,1,this.x,this.y+this.height),e.concat(a),h.concat(a),g.concat(a),d.concat(a),c=N(e.ox,h.ox,g.ox,d.ox),f=M(e.ox,h.ox,g.ox,d.ox),i=N(e.oy,h.oy,g.oy,d.oy),b=M(e.oy,h.oy,g.oy,d.oy),this.x=c,this.y=i,this.width=f-c,this.height=b-i},a}(),C.text.TextFormat=w=function(){function a(b,c,d,e,f,g,h,i,j,k){var l;this.font=b!=null?b:z.SANS_SERIF,this.size=c!=null?c:16,this.color=d!=null?d:0,this.alpha=e!=null?e:1,this.bold=f!=null?f:!1,this.italic=g!=null?g:!1,this.smallCaps=h!=null?h:!1,this.align=i!=null?i:x.START,this.baseline=j!=null?j:y.TOP,this.leading=k!=null?k:0,this.font instanceof a&&(l=this.font,this.font=l.font,this.size=l.size,this.color=l.color,this.alpha=l.alpha,this.bold=l.bold,this.italic=l.italic,this.smallCaps=l.smallCaps,this.align=l.align,this.baseline=l.baseline,this.leading=l.leading)}return a.prototype.toStyleSheet=function(){var a,b,c,d;c=!1;for(b in z){d=z[b];if(d!==this.font)continue;c=!0;break}return a=c?this.font:"'"+this.font+"'",""+(this.italic?"italic":"normal")+" "+(this.smallCaps?"small-caps":"normal")+" "+(this.bold?"bold":"normal")+" "+this.size+"px "+a},a}(),C.text.TextFormatAlign=x={START:"start",END:"end",LEFT:"left",RIGHT:"right",CENTER:"center"},C.text.TextFormatBaseline=y={TOP:"top",HANGING:"hanging",MIDDLE:"middle",ALPHABETIC:"alphabetic",IDEOGRAPHIC:"ideographic",BOTTOM:"bottom"},C.timers.TextFormatFont=z={SERIF:"serif",SANS_SERIF:"sans-serif",CURSIVE:"cursive",MONOSPACE:"monospace",FANTASY:"fantasy"},C.text.AnimationFrameTicker=a=function(){function a(){this._onAnimationFrame=U(this._onAnimationFrame,this);if(!a._internal)throw new Error("AnimationFrameTicker: call AnimationFrameTicker.getInstance()");a._internal=!1,this._handlers=[],this._running=!1,this._counter=0}return a.getInstance=function(){return this._instance==null&&(this._internal=!0,this._instance=new a),this._instance},a.prototype.addHandler=function(a){this._handlers.indexOf(a)===-1&&(this._handlers.push(a),this._running===!1&&(this._running=!0,O(this._onAnimationFrame)))},a.prototype.removeHandler=function(a){this._handlers.splice(this._handlers.indexOf(a),1),this._handlers.length===0&&(this._running=!1)},a.prototype._onAnimationFrame=function(a){var b,c,d,e,f,g=this;this._counter++,f=this._handlers,c=function(b){return setTimeout(function(){if(g._running)return b(a)},0)};for(d=0,e=f.length;d<e;d++)b=f[d],c(b);this._running===!0&&O(this._onAnimationFrame)},a}(),R={},C.timers.Stopwatch=u={start:function(a){var b;a in R!=null?b=R[a]:(b=R[a]={},b.counter=0,b.total=0),b._startAt=(new Date).getTime()},stop:function(a){var b;b=R[a],(b!=null?b._startAt:void 0)!=null&&(b.counter++,b.total+=(new Date).getTime()-b._startAt,b.average=b.total/b.counter,delete b._startAt)},toObject:function(a){return _clone(R[a])},toString:function(a){var b,c;a==null&&(a=null);if(a!=null)return this._toString(a,0);b="name".length;for(a in R)b=Math.max(b,a.length);c=[];for(a in R)c.push(this._toString(a,b));return c.join("\n")},_toString:function(a,b){var c;return c=R[a],""+_padRight(a,b," ")+" : "+c.total+"(ms) / "+c.counter+" = "+c.average+"(ms)"}},C.events.EventDispatcher=g=function(a){function b(){this._events={}}return W(b,a),b.prototype.addEventListener=function(a,b,c,d){c==null&&(c=!1),d==null&&(d=0);if(typeof b!="function")throw new TypeError("EventDispatcher: listener isn't function");return this._events[a]==null&&(this._events[a]=[]),this._events[a].push({listener:b,useCapture:c,priority:d}),this._events[a].sort(this._sortOnPriorityInDescendingOrder),this},b.prototype._sortOnPriorityInDescendingOrder=function(a,b){return b.priority-a.priority},b.prototype.addListener=b.addEventListener,b.prototype.on=b.addEventListener,b.prototype.removeEventListener=function(a,b){var c,d;if(d=this._events[a]){c=d.length;while(c--)d[c].listener===b&&d.splice(c,1);d.length===0&&delete this._events[a]}return this},b.prototype.dispatchEvent=function(a){var b,c,d,e;a.currentTarget=this,d=this._events[a.type];if(d!=null)for(b=0,e=d.length;b<e;b++){c=d[b];if(c.useCapture&&a.eventPhase===h.CAPTURING_PHASE||c.useCapture===!1&&a.eventPhase!==h.CAPTURING_PHASE){(function(a,b){return setTimeout(function(){return a.listener(b)},0)})(c,a);if(a._isPropagationStoppedImmediately)break}}return!a._isDefaultPrevented},b.prototype.emit=b.dispatchEvent,b}(d),C.events.KeyboardEvent=m=function(a){function b(a,c,d,e,f,g,h,i,j,k,l){this.type=a,this.bubbles=c!=null?c:!1,this.cancelable=d!=null?d:!1,e==null&&(e=0),f==null&&(f=0),g==null&&(g=0),h==null&&(h=!1),i==null&&(i=!1),j==null&&(j=!1),k==null&&(k=!1),l==null&&(l=!1),b.__super__.constructor.call(this,"Event")}return W(b,a),b}(f),C.events.MouseEvent=p=function(a){function b(a,c,d,e,f,g,h,i,j,k,l,m,n,o){var p,q,r,s,t;c==null&&(c=!1),d==null&&(d=!1),e==null&&(e=NaN),f==null&&(f=NaN),g==null&&(g=null),h==null&&(h=!1),i==null&&(i=!1),j==null&&(j=!1),k==null&&(k=!1),l==null&&(l=0),m==null&&(m=!1),n==null&&(n=!1),o==null&&(o=0);if(!(this instanceof b))return new b(a,c,d,e,f,g,h,i,j,k,l,m,n,o);a instanceof b&&(q=a,a=q.type,c=q.bubbles,d=q.cancelable,e=q.localX,f=q.localY,g=q.relatedObject,h=q.ctrlKey,i=q.altKey,j=q.shiftKey,k=q.buttonDown,l=q.delta,m=q.commandKey,n=q.controlKey,o=q.clickCount,p=q.currentTarget,t=q.target,r=q.stageX,s=q.stageY),b.__super__.constructor.call(this,a,c,d),this.localX=e,this.localY=f,this.relatedObject=g,this.ctrlKey=h,this.altKey=i,this.shiftKey=j,this.buttonDown=k,this.delta=l,this.commandKey=m,this.controlKey=n,this.clickCount=o,this.currentTarget=p,this.target=t,this.stageX=r,this.stageY=s}return W(b,a),b.CLICK="click",b.CONTEXT_MENU="contextMenu",b.DOUBLE_CLICK="doubleClick",b.MIDDLE_CLICK="middleClick",b.MIDDLE_MOUSE_DOWN="middleMouseDown",b.MIDDLE_MOUSE_UP="middleMouseUp",b.MOUSE_DOWN="mouseDown",b.MOUSE_MOVE="mouseMove",b.MOUSE_OUT="mouseOut",b.MOUSE_OVER="mouseOver",b.MOUSE_UP="mouseUp",b.MOUSE_WHEEL="mouseWheel",b.RIGHT_CLICK="rightClick",b.RIGHT_MOUSE_DOWN="rightMouseDown",b.RIGHT_MOUSE_UP="rightMouseUp",b.ROLL_OUT="rollOut",b.ROLL_OVER="rollOver",b}(f),C.geom.Vector=B=function(a){function b(a,c){var d;this.x=a!=null?a:0,this.y=c!=null?c:0,this.x instanceof b&&(d=this.x,this.x=d.x,this.y=d.y),this.defineProperty("direction",function(){return K(this.y,this.x)},function(a){var b;b=Q(this.x*this.x+this.y*this.y),this.x=b*L(a),this.y=b*P(a)}),this.defineProperty("magnitude",function(){return Q(this.x*this.x+this.y*this.y)},function(a){var b;b=a/Q(this.x*this.x+this.y*this.y),this.x*=b,this.y*=b})}return W(b,a),b.crossProduct=function(a,b){return a.distance*b.distance*P(b.angle-a.angle)},b.dotProduct=function(a,b){},b.distance=function(a,b){var c,d;return c=a.x-b.x,d=a.y-b.y,Q(c*c+d*d)},b.between=function(a,c,d){return d==null&&(d=.5),new b(a.x+(c.x-a.x)*d,a.y+(c.y-a.y)*d)},b.prototype.add=function(a){return new b(this.x+a.x,this.y+a.y)},b.prototype.subtract=function(a){return new b(this.x-a.x,this.y-a.y)},b.prototype.divide=function(a){return new b(this.x/a,this.y/a)},b.prototype.toString=function(){return"("+this.x+", "+this.y+")"},b.prototype.equals=function(a){return this.x===a.x&&this.y===a.y},b.prototype.normalize=function(a){var b;return a==null&&(a=1),b=a/Q(this.x*this.x+this.y*this.y),this.x*=b,this.y*=b,this},b}(d),C.display.DisplayObject=e=function(a){function b(){b.__super__.constructor.call(this),this.defineProperty("VERSION",function(){return J}),this.defineProperty("stage",function(){return this.__stage},null),this.defineProperty("_stage",null,function(a){var b,c,d,e;if(this._children!=null){e=this._children;for(c=0,d=e.length;c<d;c++)b=e[c],b._stage=a}this.__stage=a}),this.defineProperty("parent",function(){return this._parent}),this.defineProperty("x",function(){return this._x},function(a){this._x=a,this._requestRender(!1)}),this.defineProperty("y",function(){return this._y},function(a){this._y=a,this._requestRender(!1)}),this.defineProperty("alpha",function(){return this._alpha},function(a){this._alpha=a,this._requestRender(!1)}),this.defineProperty("rotation",function(){return this._rotation},function(a){this._rotation=a,this._requestRender(!1)}),this.defineProperty("width",this._getWidth,this._setWidth),this.defineProperty("height",this._getHeight,this._setHeight),this.defineProperty("scaleX",function(){return this._scaleX},function(a){this._scaleX=a,this._width=this._context.canvas.width*a,this._requestRender(!1)}),this.defineProperty("scaleY",function(){return this._scaleY},function(a){this._scaleY=a,this._height=this._context.canvas.height*a,this._requestRender(!1)}),this.defineProperty("matrix",function(){return this._matrix},function(a){this._matrix=a,this._requestRender(!1)}),this.__stage=null,this._parent=null,this._x=0,this._y=0,this._width=0,this._height=0,this._scaleX=1,this._scaleY=1,this._rotation=0,this._alpha=1,this._matrix=new o,this.filters=[],this._context=document.createElement("canvas").getContext("2d"),this._context.canvas.width=this._context.canvas.height=0,this._stacks=[],this._drawn=!1,this._measured=!1}return W(b,a),b.prototype._getWidth=function(){return this._measureSize(),this._width},b.prototype._setWidth=function(a){this._width=a,this._context.canvas.width!==0&&(this._scaleX=a/this._context.canvas.width),this._requestRender(!1)},b.prototype._getHeight=function(){return this._measureSize(),this._height},b.prototype._setHeight=function(a){this._height=a,this._context.canvas.height!==0&&(this._scaleY=a/this._context.canvas.height),this._requestRender(!1)},b.prototype._getTransform=function(){return this._matrix.clone().createBox(this._scaleX,this._scaleY,this._rotation*H,this._x,this._y)},b.prototype.set=function(a,b){return this[a]=b,this},b.prototype.addTo=function(a){if(a instanceof s)return a.addChild(this),this;throw new TypeError("parent "+a+" isn't display object container")},b.prototype._requestRender=function(a){return a==null&&(a=!1),this._drawn|=a,this._measured=!1,this._parent!=null&&this._parent._requestRender(!0),this},b.prototype._render=function(){var a;if(this._drawn){this._drawn=!1,this._measureSize(),this._applySize(),this._execStacks(),this._applyFilters();if((a=this.__stage)!=null?a.debug:void 0)return this._drawBounds()}},b.prototype._measureSize=function(){var a,b,c,d,e,f,g,h;if(!this._measured){c=0,h=this._stacks;for(f=0,g=h.length;f<g;f++)e=h[f],e.delta!=null&&(c=e.delta),e.rect!=null&&(typeof d=="undefined"||d===null?d=e.rect.clone():d.union(e.rect),a=e.rect.clone(),a.offset(-c/2,-c/2),a.inflate(c,c),typeof b=="undefined"||b===null?b=a:b.union(a));d==null&&(d=new q),b==null?b=new q:b.adjustOuter(),this._width=d.width,this._height=d.height,this._rect=d,this._bounds=b,this._measured=!0}},b.prototype._applySize=function(){return this._context.canvas.width=this._bounds.width,this._context.canvas.height=this._bounds.height},b.prototype._execStacks=function(){var a,b,c,d;this._context.translate(-this._bounds.x,-this._bounds.y),d=this._stacks;for(b=0,c=d.length;b<c;b++)a=d[b],this["_"+a.method].apply(this,a.arguments);this._context.setTransform(1,0,0,1,0,0)},b.prototype._applyFilters=function(){var a,b,c,d,e,f;if(this.filters.length>0){b=this._context.getImageData(0,0,this._bounds.width,this._bounds.height),c=this._context.createImageData(this._bounds.width,this._bounds.height),f=this.filters;for(d=0,e=f.length;d<e;d++)a=f[d],a.scan(b,c);this._context.putImageData(c,0,0)}},b.prototype._drawBounds=function(){this._context.strokeStyle="rgb(255, 0, 0)",this._context.lineWidth=2,this._context.strokeRect(0,0,this._context.canvas.width,this._context.canvas.height)},b.prototype.hitTest=function(a,b){var c,d;return a instanceof B&&(d=a,a=d.x,b=d.y),c=this.globalToLocal(a,b),this._hitTest(c.x,c.y)},b.prototype._hitTest=function(a,b){if(this._bounds!=null)return this._context.isPointInPath(a-this._bounds.x,b-this._bounds.y)},b.prototype.getPixel32=function(a,b){var c,d;return d=this._context.getImageData(a,b,1,1),c=d.data,c[3]<<24|c[2]<<16|c[1]<<8|c[0]},b.prototype.globalToLocalPoint=function(a){return this.globalToLocal(a.x,a.y)},b.prototype.globalToLocal=function(a,b){var c;c=this;while(c)a-=c.x,b-=c.y,c=c._parent;return new B(a,b)},b}(g),C.timers.Timer=A=function(a){function b(a,c){c==null&&(c=0),this._onInterval=U(this._onInterval,this),b.__super__.constructor.call(this),this.defineProperty("delay",function(){return this._delay},function(a){var b;b=this._running,this.stop(),this._delay=a,b&&this.start()}),this.defineProperty("repeatCount",function(){return this._repeatCount},function(a){var b,c;this._repeatCount=a,c=this._repeatCount===0,b=this._currentCount>=this._repeatCount,!c&&b&&this.stop()}),this.defineProperty("currentCount",function(){return this._currentCount}),this.defineProperty("running",function(){return this._running}),this._delay=a,this._repeatCount=c,this.reset()}return W(b,a),b.TIMER="timer",b.TIMER_COMPLETE="timerComplete",b.prototype.reset=function(){return this.stop(),this._currentCount=0},b.prototype.start=function(){var a,b;b=this._repeatCount===0,a=this._currentCount>=this._repeatCount;if(!this._running&&(b||!a))return this._intervalId!=null&&clearInterval(this._intervalId),this._running=!0,this._intervalId=setInterval(this._onInterval,this._delay)},b.prototype.stop=function(){this._running=!1;if(this._intervalId)return clearInterval(this._intervalId),this._intervalId=null},b.prototype._onInterval=function(){var a,c;c=this._repeatCount===0,a=++this._currentCount>=this._repeatCount,this.dispatchEvent(new f(b.TIMER));if(!c&&a)return this.stop(),this.dispatchEvent(new f(b.TIMER_COMPLETE))},b}(g),C.display.Bitmap=b=function(a){function b(){b.__super__.constructor.call(this,"Bitmap")}return W(b,a),b.prototype.draw=function(a,b,c){b==null&&(b=0),c==null&&(c=0),a instanceof e&&(a=a._context.canvas);if(a instanceof Image||a instanceof HTMLImageElement||a instanceof HTMLCanvasElement||a instanceof HTMLVideoElement){this.drawImage(a,b,c);return}if(a instanceof ImageData){this.drawImageData(a,b,c);return}throw new TypeError("data isn't drawable object")},b.prototype.drawImage=function(a,b,c){return b==null&&(b=0),c==null&&(c=0),this._stacks.push({method:"drawImage",arguments:[a,b,c],rect:new q(b,c,a.width,a.height)}),this._requestRender(!0)},b.prototype._drawImage=function(a,b,c){this._context.drawImage(a,b,c,a.width,a.height)},b.prototype.drawImageData=function(a,b,c){b==null&&(b=0),c==null&&(c=0)},b.prototype.applyFilter=function(a,b,c,d){},b}(e),C.display.InteractiveObject=k=function(a){function b(){this._drag=U(this._drag,this),b.__super__.constructor.call(this)}return W(b,a),b.prototype._propagateMouseEvent=function(a){var b,c,d,e,f;if(this._mouseEnabled&&a._isPropagationStopped===!1){a=new p(a),f=this._getTransform().invert().transformPoint(new B(a.localX,a.localY)),a.localX=f.x,a.localY=f.y,d=this._hitTest(a.localX,a.localY),d===!0&&this._mouseIn===!1?(c=new p(a),c.type=p.MOUSE_OVER,this._targetMouseEvent(c),c=new p(a),c.type=p.ROLL_OVER,c.bubbles=!1,this._targetMouseEvent(c),this._mouseIn=!0,this._buttonMode&&(this.__stage._canvas.style.cursor="pointer")):d===!1&&this._mouseIn===!0&&(c=new p(a),c.type=p.MOUSE_OUT,this._targetMouseEvent(c),c=new p(a),c.type=p.ROLL_OUT,c.bubbles=!1,this._targetMouseEvent(c),this._mouseIn=!1,this!==this.__stage&&(this.__stage._canvas.style.cursor="default"));if(this._mouseChildren){e=this._children.length;while(e--){b=this._children[e];if(b._propagateMouseEvent!=null){c=b._propagateMouseEvent(a);if(c!=null){this._captureMouseEvent(c);return}}if(typeof b._hitTest=="function"?b._hitTest(a.localX-b.x,a.localY-b.y):void 0)d=!0}}if(d)return this._targetMouseEvent(a)}},b.prototype._captureMouseEvent=function(a){return a=new p(a),a.eventPhase=h.CAPTURING_PHASE,a.currentTarget=this,this.dispatchEvent(a),a},b.prototype._targetMouseEvent=function(a){var b;return a=new p(a),a.eventPhase=h.AT_TARGET,a.target=a.currentTarget=this,this.dispatchEvent(a),a.bubbles&&(b=this._parent)!=null&&b._bubbleMouseEvent(a),a},b.prototype._bubbleMouseEvent=function(a){var b;return a=new p(a),a.eventPhase=h.BUBBLING_PHASE,a.currentTarget=this,this.dispatchEvent(a),(b=this._parent)!=null&&b._bubbleMouseEvent(a),a},b.prototype.startDrag=function(a){return a==null&&(a=!1),this.__stage.addEventListener(p.MOUSE_MOVE,this._drag)},b.prototype._drag=function(a){return this.x=a.stageX,this.y=a.stageY},b.prototype.stopDrag=function(){return this.__stage.removeEventListener(p.MOUSE_MOVE,this._drag)},b}(e),C.display.Shape=r=function(a){function b(){b.__super__.constructor.call(this),this.graphics=new j(this)}return W(b,a),b.prototype._execStacks=function(){this.graphics._execStacks()},b.prototype.clip=function(){return this._stacks.push({method:"clip",arguments:ArrayUtil.toArray(arguments)}),this._requestRender(!0)},b.prototype._clip=function(){this._context.clip()},b}(e),C.display.Sprite=s=function(a){function b(){b.__super__.constructor.call(this),this.defineProperty("mouseEnabled",function(){return this._mouseEnabled},function(a){return this._mouseEnabled=a}),this.defineProperty("mouseChildren",function(){return this._mouseChildren},function(a){return this._mouseChildren=a}),this.defineProperty("buttonMode",function(){return this._buttonMode},function(a){return this._buttonMode=a}),this.graphics=new j(this),this._children=[],this._mouseEnabled=!0,this._mouseChildren=!0,this._buttonMode=!1,this._mouseIn=!1}return W(b,a),b.prototype.addChild=function(a){if(a instanceof e)return a._stage=this.__stage,a._parent=this,this._children.push(a),this._requestRender(!0);throw new TypeError("Child must be specified in DisplayObject.")},b.prototype.addChildAt=function(a,b){if(a instanceof e){if(b<0||b>this._children.length)throw new TypeError("Index is out of range.");return this._children.splice(b,0,a),this._requestRender(!0)}throw new TypeError("Child must be specified in DisplayObject.")},b.prototype.removeChild=function(){var a,b,c,d,e;b=1<=arguments.length?T.call(arguments,0):[];for(d=0,e=b.length;d<e;d++)a=b[d],c=this._children.indexOf(a),c!==-1&&this._children.splice(c,1);return this._requestRender(!0)},b.prototype._render=function(){var a;if(this._drawn){this._drawn=!1,this._measureSize(),this._applySize(),this._execStacks(),this._drawChildren(),this._applyFilters();if((a=this.__stage)!=null?a.debug:void 0)return this._drawBounds()}},b.prototype._measureSize=function(){var a,c,d,e,f,g,h,i,j;b.__super__._measureSize.call(this),e=this._rect,c=this._bounds,j=this._children;for(h=0,i=j.length;h<i;h++)d=j[h],d._render(),e.union(d._rect),a=d._bounds.clone(),a.transform(d._getTransform()),c.union(a);f=Math.floor(c.x),f!==c.x&&c.width++,g=Math.floor(c.y),g!==c.y&&c.height++,c.x=f,c.y=g,c.width=Math.ceil(c.width),c.height=Math.ceil(c.height),this._width=e.width,this._height=e.height},b.prototype._execStacks=function(){this.graphics._execStacks()},b.prototype._drawChildren=function(){var a,b,c,d,e;e=this._children;for(c=0,d=e.length;c<d;c++){a=e[c];if(a._bounds!=null&&a._bounds.width>0&&a._bounds.height>0){if(isNaN(a.x||isNaN(a._bounds.x||isNaN(a.y||isNaN(a._bounds.y)))))throw new Error("invalid position");b=new o(1,0,0,1,this._bounds.x,this._bounds.y),b.concat(a._getTransform()),b.translate(-this._bounds.x,-this._bounds.y),b.setTo(this._context),this._context.globalAlpha=a._alpha<0?0:a._alpha>1?1:a._alpha,this._context.drawImage(a._context.canvas,a._bounds.x-this._bounds.x,a._bounds.y-this._bounds.y),this._context.setTransform(1,0,0,1,0,0)}}},b}(k),C.text.TextField=v=function(a){function b(a,c){a==null&&(a=""),c==null&&(c=new w),b.__super__.constructor.call(this),this.defineProperty("text",function(){return this._texts.join("\n")},function(a){return this._texts=this._stacks[0].arguments[0]=a.split(/\r?\n/),this._requestRender(!0)}),this.defineProperty("textFormat",function(){return this._textFormat},function(a){return this._textFormat=this._stacks[0].arguments[1]=a,this._requestRender(!0)}),this.defineProperty("maxWidth",function(){return this._maxWidth},function(a){return this._maxWidth=this._stacks[0].arguments[2]=value,this._requestRender(!0)}),this._stacks.push({method:"drawText",arguments:[]}),this.text=a,this.textFormat=c}return W(b,a),b.prototype._measureSize=function(){var a,b,c,d,e,f;if(this._texts!=null&&this._textFormat!=null){b=new q,this._context.font=this._textFormat.toStyleSheet(),f=this._texts;for(d=0,e=f.length;d<e;d++)c=f[d],b.width=Math.max(b.width,this._context.measureText(c).width),b.height+=this._textFormat.size*1.2+this._textFormat.leading;this._width=b.width,this._height=b.height,this._rect=b,a=b.clone(),a.x=-a.width,a.width*=2,a.y=-a.height,a.height*=2,this._bounds=a}},b.prototype._drawText=function(a,b){var c,d,e,f,g;this._context.font=b.toStyleSheet(),this._context.textAlign=b.align,this._context.textBaseline=b.baseline,this._context.fillStyle=j.toColorString(b.color,b.alpha),d=b.size+b.leading,g=this._texts;for(c=0,f=g.length;c<f;c++)e=g[c],this._context.fillText(e,0,d*c)},b}(k),C.display.Loader=n=function(a){function c(){c.__super__.constructor.call(this)}return W(c,a),c.prototype.load=function(a){var c,d=this;return c=new Image,c.src=a,c.addEventListener("load",function(a){var e;return e=new b,e.draw(c),d.content=e,d.addChild(d.content),d.dispatchEvent(new f(f.COMPLETE))})},c}(s),C.display.Stage=t=function(a){function b(a,c){var d;c==null&&(c=null),this._onMouseWheel=U(this._onMouseWheel,this),this._onMouseMove=U(this._onMouseMove,this),this._onMouseUp=U(this._onMouseUp,this),this._onMouseDown=U(this._onMouseDown,this),this._onClick=U(this._onClick,this),this._enterFrame=U(this._enterFrame,this),b.__super__.constructor.call(this),this.defineProperty("frameRate",function(){return this._frameRate});if(a instanceof HTMLCanvasElement)d=a,this._width=d.width,this._height=d.height;else{if(!notisNaN(Number(a))||!notisNaN(Number(c)))throw new TypeError("");d=document.createElement("canvas"),this._width=d.width=a,this._height=d.height=c}this._canvas=d,this.__stage=this,this._context=d.getContext("2d"),this._bounds=new q(0,0,d.width,d.height),this.overrideMouseWheel=!1,this._startTime=this._time=(new Date).getTime(),this.currentFrame=0,this._targetFrameRate=this._frameRate=30,setInterval(this._enterFrame,1e3/this._targetFrameRate),d.addEventListener("click",this._onClick,!1),d.addEventListener("mousedown",this._onMouseDown,!1),d.addEventListener("mouseup",this._onMouseUp,!1),d.addEventListener("mousemove",this._onMouseMove,!1),d.addEventListener("mousewheel",this._onMouseWheel,!1)}return W(b,a),b.prototype._getWidth=function(){return this._width},b.prototype._getHeight=function(){return this._height},b.prototype.getTimer=function(){return(new Date).getTime()-this._startTime},b.prototype._enterFrame=function(){var a;this.currentFrame++,a=(new Date).getTime(),this._frameRate=(1e4/(a-this._time)>>0)/10,this._time=a,this.dispatchEvent(new f(f.ENTER_FRAME)),this._drawn&&(this._drawn=!1,this._render())},b.prototype._render=function(){var a,b,c,d;d=this._children;for(b=0,c=d.length;b<c;b++)a=d[b],a._render();this._context.canvas.width=this._width,this._drawChildren()},b.prototype._hitTest=function(a,b){return!0},b.prototype._requestRender=function(){this._drawn=!0},b.prototype._onClick=function(a){var b;return a.preventDefault(),b=new p(p.CLICK,!0),this._setMousePosition(b,a),this._propagateMouseEvent(b)},b.prototype._onMouseDown=function(a){var b;return a.preventDefault(),b=new p(p.MOUSE_DOWN,!0),this._setMousePosition(b,a),this._propagateMouseEvent(b)},b.prototype._onMouseUp=function(a){var b;return a.preventDefault(),b=new p(p.MOUSE_UP,!0),this._setMousePosition(b,a),this._propagateMouseEvent(b)},b.prototype._onMouseMove=function(a){var b;return a.preventDefault(),b=new p(p.MOUSE_MOVE,!0),this._setMousePosition(b,a),this._propagateMouseEvent(b)},b.prototype._onMouseWheel=function(a){var b;return this.overrideMouseWheel&&a.preventDefault(),b=new p(p.MOUSE_WHEEL,!0),this._setMousePosition(b,a),this._propagateMouseEvent(b)},b.prototype._setMousePosition=function(a,b){return a.stageX=a.localX=b.offsetX!=null?b.offsetX:b.pageX-this._canvas.offsetLeft,a.stageY=a.localY=b.offsetY!=null?b.offsetY:b.pageY-this._canvas.offsetTop,a.delta=b.wheelDelta!=null?b.wheelDelta:b.detail!=null?b.detail:0},b}(s)}).call(this)